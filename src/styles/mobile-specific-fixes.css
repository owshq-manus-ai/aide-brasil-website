/* Specific Mobile Fixes for Reported Issues */

@media (max-width: 768px) {
  /* Fix 1: Discord Section Header Alignment */
  /* Target the Discord header by its container structure */
  .flex.items-center.justify-between.px-4.py-4.border-b {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    flex-wrap: nowrap !important;
    gap: 0.5rem !important;
    overflow-x: auto !important;
  }

  /* Ensure Online badge stays inline */
  .bg-gray-900\/50.text-gray-400.rounded-lg.text-xs {
    white-space: nowrap !important;
    min-width: fit-content !important;
  }

  /* Member count alignment */
  .bg-gray-900\/50.rounded-lg .text-gray-400.text-sm.font-medium {
    white-space: nowrap !important;
    display: inline-block !important;
  }

  /* Fix 2: "Fazer Parte da Comunidade" Button */
  /* Community button styling */
  .bg-gradient-to-r.from-green-600.to-emerald-600 button,
  .bg-gradient-to-r.from-green-600.to-emerald-600 a,
  button[class*="green"],
  a[class*="green"] {
    width: calc(100% - 2rem) !important;
    max-width: 320px !important;
    margin-left: auto !important;
    margin-right: auto !important;
    text-align: center !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    white-space: normal !important;
    line-height: 1.3 !important;
  }

  /* Fix 3: Reduce Orb Complexity on Mobile */
  /* Hide particle effects */
  div[class*="w-80 h-80"] motion\:div:nth-child(n+10) {
    display: none !important;
  }

  /* Simplify orb container */
  .w-80.h-80 {
    width: 16rem !important;
    height: 16rem !important;
  }

  /* Fix 4: Text Animation Performance */
  /* Disable complex text animations */
  motion\:h2,
  motion\:h3,
  motion\:p {
    animation: fadeIn 0.5s ease-out forwards !important;
    transform: none !important;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Disable quote marks animation */
  span.text-3xl.text-white\/40.absolute {
    animation: none !important;
    opacity: 0.7 !important;
  }

  /* Fix 5: General Mobile Layout Issues */
  /* Prevent horizontal overflow */
  body,
  #root {
    overflow-x: hidden !important;
  }

  /* Fix container widths */
  .container,
  .max-w-7xl,
  .max-w-6xl {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    width: 100% !important;
  }

  /* Fix flex items that might overflow */
  .flex.items-center.space-x-3,
  .flex.items-center.space-x-4 {
    flex-wrap: wrap !important;
    gap: 0.75rem !important;
  }

  /* Discord message box optimization */
  .bg-gray-800\/30.rounded-lg.p-4 {
    padding: 0.75rem !important;
  }

  /* Ensure text doesn't overflow */
  p,
  span {
    word-break: break-word !important;
    overflow-wrap: break-word !important;
  }
}

/* Ultra-specific mobile fixes using attribute selectors */
@media (max-width: 430px) {
  /* iPhone Pro Max and similar */

  /* Discord header on small screens */
  .flex.items-center.justify-between.mb-8.pb-4 {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 1rem !important;
  }

  /* Orb size reduction for small screens */
  .w-80.h-80,
  .w-72.h-72 {
    width: 14rem !important;
    height: 14rem !important;
  }

  /* Button text size adjustment */
  button,
  a[role="button"] {
    font-size: 0.875rem !important;
    padding: 0.75rem 1.25rem !important;
  }
}

/* Performance optimizations for low-end mobile */
@media (max-width: 768px) and (hover: none) {
  /* Touch devices only */

  /* Disable hover effects on mobile */
  *:hover {
    transform: none !important;
    box-shadow: none !important;
  }

  /* Simplify transitions */
  * {
    transition-duration: 0.2s !important;
  }

  /* Disable backdrop filters on low-end */
  .backdrop-blur-sm,
  .backdrop-blur-md,
  .backdrop-blur-lg {
    backdrop-filter: none !important;
    background-color: rgba(3, 3, 3, 0.95) !important;
  }
}

/* Fix for the Onyx text lag */
@media (max-width: 768px) {
  /* Target Onyx section text by structure */
  #onyx h2,
  #onyx h3,
  section[id="onyx"] h2,
  section[id="onyx"] h3 {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
    transition: opacity 0.3s ease !important;
  }

  /* Disable typewriter effect on mobile */
  .typewriter,
  [class*="typewriter"] {
    animation: none !important;
  }

  /* Fix for AnimatedCounter on mobile devices */
  /* Force visibility for counter elements */
  div[class*="text-5xl"],
  div[class*="text-4xl"],
  div[class*="text-3xl"] {
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* Ensure Intersection Observer works on mobile */
  .grid.grid-cols-2,
  .grid.grid-cols-3 {
    will-change: auto !important;
    transform: translateZ(0) !important;
  }

  /* Force counter animation trigger on mobile */
  @supports (-webkit-touch-callout: none) {
    /* iOS Safari specific */
    motion\:div[class*="font-bold"] {
      opacity: 1 !important;
      transform: scale(1) !important;
    }
  }
}